{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2018/08/23/identifying-obvious-sourcetype-problems-in-splunk/",
    "result": {"data":{"site":{"siteMetadata":{"title":"RFaircloth Data Nerd"}},"markdownRemark":{"id":"a6695ac2-45d4-5c61-8daa-9f8fa1e41c72","excerpt":"This is a short one, on boarding data into any system is great making it identifiable and usable by the end users thats even more important. In Splunk source…","html":"<p>This is a short one, on boarding data into any system is great making it identifiable and usable by the end users thats even more important. In Splunk source, sourcetype, and index are the most basic bits of metadata available to users and often they work with only these three because its just so easy. When our upstream sources don’t set these values correctly it can stress the environment because we are doing unnecessary work like “line merging” and our users can’d find data. Using Splunk logs we can see where this may be happening and start to fix it. This search will identify suspect sourcetypes. Review the onboarding of each identified to make it better.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;pre class=\"wp-block-code\">```\nindex=_internal source=\"*metrics.log\" sourcetype=splunkd group=per_sourcetype_thruput\n| eval sourcetype_error=if(match(series,\"^[\\$\\%\\#]\"),\"__Invalid_char\",sourcetype_error)\n| eval sourcetype_error=if(isnull(series) OR st=\"\" ,\"__Invalid_null\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"^\\/\"),\"__Invalid_usedpath\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"^\\d+\\.\\d+\\.\\d+\\.\\d+\"),\"__Invalid_used_IP\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\s\"),\"__Invalid_space\",sourcetype_error)\n| eval sourcetype_error=if(like(series,\"%small\"),\"__Invalid_too_small\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\d+\"),\"__Invalid_numeric\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\-\\d\"),\"__Invalid_learnednum\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\-error\"),\"__Invalid_learnederror\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\*\"),\"__Invalid_asterisk\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"\\.\\w{1,4}$\"),\"__Invalid_filename\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"[\\.\\-]log$\"),\"__Invalid_autousinglogfilename\",sourcetype_error)\n| eval sourcetype_error=if(match(series,\"^![\\w\\_\\-\\:]+$\"),\"__Invalid_nonsourcetype_errorndardform\",sourcetype_error)\n| search sourcetype_error=*\n| stats sum(kb) as kb avg(kbps) as kbps_avg avg(eps) as eps_avg sum(ev) as ev values(sourcetype_error) by series\n| eval mb=round(kb/1024,2)\n| fields - kb\n| sort limit=0 -mb</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\nCode as snippet &lt;https://bitbucket.org/snippets/rfaircloth-splunk/Benb45></code></pre></div>","frontmatter":{"title":"Identifying obvious sourcetype problems in Splunk","date":"August 23, 2018","description":null}},"previous":{"fields":{"slug":"/2018/08/14/protecting-atms-from-the-two-arm-bandits/"},"frontmatter":{"title":"Protecting ATMs from the two arm bandits"}},"next":{"fields":{"slug":"/2018/10/07/upgrading-splunk-add-ons/"},"frontmatter":{"title":"Upgrading  Splunk Add Ons"}}},"pageContext":{"id":"a6695ac2-45d4-5c61-8daa-9f8fa1e41c72","previousPostId":"a1d38da7-38a6-58b9-86ee-e98d6e1e64a0","nextPostId":"03ca7281-f394-51f1-aeac-852a2c174db2"}},
    "staticQueryHashes": ["2841359383","3257411868"]}